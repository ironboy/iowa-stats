<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Iowa with Node Hill</title>
  <link rel="stylesheet" href="/style.css">
</head>

<body>
  <main>
    <h2>Data från <a target="_blank" href="https://data.iowa.gov/">IOWA - Open Data</a></h2>
    <p>Den här datan är ett litet urval ur alla de dataset som finns på <a target="_blank"
        href="https://data.iowa.gov/">IOWA - Open
        Data</a>.</p>
    <p>Datan har hämtats från IOWA data som CSV-filer och sedan konverterats till JSON.</p>
    <p>Fördelen med JSON är att det är ett strukturerat format som kan vara lättare att importera till olika databaser
      och
      data lakes. Nackdelen är att det är mer utrymmeskrävande än CSV.</p>
    <p>Vid konverteringen till JSON har CSV-datan bearbeats/"parsats" så att värden som är numeriska har typats till
      nummer,
      samt så
      att datumformat konverterats till ISO-standard (YYYY-MM-DD) från amerikanskt format.</p>
    <p>Vidare har nycklar/fältnamn gjorts om så att de är skrivna med camelcase.</p>
    <p>Problem som har stötts på vid konvertering är att kommatecken (',') är tänkt att avgränsa fält i CSV, men även
      finns inuti enstaka textbaserade fält - inom citattecken, samt att vissa poster sträckt sig över två rader, dvs.
      innehållit
      line-feed-tecknet ('\n'). Vill du använda CSV-datan direkt får du alltså vara beredd på problem av denna typ,
      särskilt i filen "Iowa_Liqour_Sales_20240215.csv".</p>
    <h4>Hur har bearbetning/"parsning" från CSV till JSON skett?</h4>
    <p>En parser skriven i JavaScript för att lösa de problem som nämns ovan har använts och den finns <a
        target="_blank" href="https://github.com/ironboy/iowa-stats">här på GitHub</a>,
      samt
      <a download href="https://github.com/ironboy/iowa-stats/archive/refs/heads/main.zip">kan laddas
        hem som zip-fil</a>. Om du har tänkt att parsa fler CSV-filer från <a target="_blank"
        href="https://data.iowa.gov/">IOWA - Open
        Data</a>
      eller helst vill undvika att ladda hem stora JSON-filer för den data som finns på denna sida, så kan du ha nytta
      av att använda denna
      parser.
    </p>
    <p><b></b>Notera:</b> De finns även ett REST-api för att hämta delar av dataset direkt som JSON på <a
        target="_blank" href="https://data.iowa.gov/">IOWA - Open Data</a>. Huvudanledningen till att detta API inte har
      använts för att
      hämta
      datan nedan är att det bara kan hämta ganska små delmängder åt gången från ett dataset.</p>
    <h4>Samples/stickprov</h4>
    <p>För stora dataset har delmängder ("samples") plockats ut - som stickprov ur datan - du ser nedan för dessa hur
      många procent av hela datan som finns med.</p>
    <p>Fördelen är att dessa filer är betydligt mindre och kan vara lättare
      att börja med när man bekantar sig med och gör tidiga försök till att skriva frågor mot datan.</p>
    <h4>Glöm inte - läs beskrivningen av datan</h4>
    <p>Nedan finns förutom nedladdningslänkar även länkar till beskrivningen av dataseten hos <a target="_blank"
        href="https://data.iowa.gov/">IOWA - Open
        Data</a>. Glöm inte att läsa beskrivningarna!</p>
    <hr>
  </main>
  <script src="/main.js"></script>
</body>

</html>